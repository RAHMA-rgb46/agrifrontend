<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="story.css" />
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
   <div class="container-fluid">
      <div class="row make">
         <div class="col-12  text-center m-2">
             <h3>Farmers Community</h3>
            <p>Share experiences and learn together</p>
         </div>
      </div>
   </div>
   <div class="container make1 d-flex justify-content-between mt-3 align-items-center p-0 rounded-pill">
        <!-- <p class=" me-3 mt-1 quest">Stories</p>
        <p class="ms-3 mt-1 quest1">Q&A</p> --> 
        <a href="story.html" class="btn quest active w-50 rounded-pill">Stories</a>
        <a href="hub.html" class="btn quest1 w-50">Q&A</a>
</div>
       <div class="container-fluid mt-2">
     <div class="row d-flex justify-content-between align-items-center">
     <div class="col-6">
         <h6 class="ms-3">Farming Stories & Experiences</h6>
     </div>
        <div class="col-6 d-flex justify-content-end">
        <a href="share.html"><button type="button" class="btn btn-success"><i class="fa-solid fa-plus p-2"></i>Share your stories</button></a>
        </div>
     </div>
    </div>
     <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="form p-3 ms-3 mt-3 me-2">
        <form action="">
     <h5 class="d-flex align-items-center mt-2"><i class="fa-solid fa-circle-user text-success me-2 peron ms-1"></i>Charity Akortia</h5><p class="text-muted ms-5">Charity Akortia • 2 days ago</p>
     <p class="ms-2 mt-2">I was the 2023 National Best Farmer in Ghana. I recounted my journey: starting in school agriculture, moving into sheep<br> production in 1998, later maize, cocoa, palm-plantain, okra etc.I encounted various challenges through my journey: <br>drought, erosion, pests & diseases, water shortages, electricity problems. 
My breadth: 33 acres cocoa, 22 acres palm-plantain, 148 acres<br> maize, 22 acres okra; poultry (55,000 animals), cattle (467), pigs (1,320) and goats (110) reported.This shows an example of a large-scale <br>diversified farmer in Ghana, the real constraints and how media have covered her story.</p>
                </div>
     </div>
     </div>
     </div>
     <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="form p-3 ms-3 mt-3 me-2">
        <form action="">
     <h5 class="d-flex align-items-center mt-2"><i class="fa-solid fa-circle-user text-success me-2 peron ms-1"></i>Nkaku Glory (aka “Bra Kwaku”)</h5><p class="text-muted ms-5">by Nkaku Glory (aka “Bra Kwaku”) • 5 days ago</p>
     <p class="ms-2 mt-2">I am the youngest vegetable farmer in Ghana, interviewed about my farming business.I could make GH₵20,000<br>every four days from harvesting 1 acre of tomatoes — specifically, several boxes sold at about GH₵5,000 each.<br>I started with about GH₵7,000 to lease land and start. I admit that while lucrative, the challenges were large and<br> one must be willing to work hard. Gives insight into cash-crop/vegetable farming among younger farmers; shows both hope and realism.</p>
                </div>
     </div>
     <div id="storyContainer" class="container mt-3">
  <!-- Stories will be dynamically inserted here -->
</div>

     </div>
     </div>
     <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="form p-3 ms-3 mt-3 me-2">
        <form action="">
     <h5 class="d-flex align-items-center mt-2"><i class="fa-solid fa-circle-user text-success me-2 peron ms-1"></i>Nana Ama Agyemang</h5><p class="text-muted ms-5">Nana Ama Agyemang • 1 week ago</p>
     <p class="ms-2 mt-2">I am young Ghanaian woman who owns 5 acres of maize farm. I harvests ~50 bags of maize per season, sells each<br>bag at ~GH₵300, resulting in about GH₵15,000 in sales, with profit around GH₵7,000..Many Ghanaian youths<br> overlook farming, thinking it’s for “dirty hands,” but I'm proving otherwise.This shows the gender dimension and <br>smaller-scale farming, yields and income realistic numbers.</p>
                </div>
     </div>
     </div>
     </div>
      <script>
    const API_URL = "http://localhost:5000/api/story";

    // Fetch and display all stories
    async function loadStories() {
      try {
        const res = await fetch(API_URL);
        const stories = await res.json();

        const storyContainer = document.getElementById("storyContainer");
        storyContainer.innerHTML = ""; // clear any old content

        stories.forEach(story => {
          const storyCard = document.createElement("div");
          storyCard.className = "form p-3 ms-3 mt-3 me-2 bg-white rounded shadow-sm";

          storyCard.innerHTML = `
            <h5 class="d-flex align-items-center mt-2">
              <i class="fa-solid fa-circle-user text-success me-2 ms-1"></i>${story.authorName}
            </h5>
            <p class="text-muted ms-5">${story.authorName} • ${new Date(story.createdAt).toLocaleDateString()}</p>
            <p class="ms-2 mt-2">${story.storyText}</p>
          `;

          storyContainer.appendChild(storyCard);
        });
      } catch (error) {
        console.error("Error loading stories:", error);
      }
    }

    // Load stories on page start
    loadStories();
  </script>
        
</body>
</html>